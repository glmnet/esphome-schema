{
  "ezo_pmp": {
    "action": {
      "arbitrary_command": {
        "schema": {
          "config_vars": {
            "command": {
              "key": "Required",
              "templatable": true,
              "type": "string"
            },
            "id": {
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            }
          }
        },
        "type": "schema"
      },
      "change_i2c_address": {
        "docs": "Changes the i2c address of the pump to the provided value. After the address is changed you must upload a new version of the ESPHome firmware with the updated I2C address for the pump to work.\n\n*See also: [`ezo_pmp.change_i2c_address` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-change-i2c-address-action)*",
        "schema": {
          "config_vars": {
            "address": {
              "docs": "**, int, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The new I2C address for the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-change-i2c-address-action)*",
              "key": "Required",
              "templatable": true,
              "type": "integer"
            },
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-change-i2c-address-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            }
          }
        },
        "type": "schema"
      },
      "clear_calibration": {
        "docs": "Clear the calibration values stored in the pump. You can check the calibration status by using the [Calibration Status](https://esphome.io/components/ezo_pmp.html#ezo-pmp-calibration-status-text-sensor) sensor.\n\n*See also: [`ezo_pmp.clear_calibration` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-clear-calibration-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "clear_total_volume_dosed": {
        "docs": "Clear the values of the [Current Volume Dosed](https://esphome.io/components/ezo_pmp.html#ezo-pmp-current-volume-dosed-sensor), [Total Volume Dosed](https://esphome.io/components/ezo_pmp.html#ezo-pmp-total-volume-dosed-sensor) and [Absolute Total Volume Dosed](https://esphome.io/components/ezo_pmp.html#ezo-pmp-absolute-total-volume-dosed-sensor) sensors.\n\n*See also: [`ezo_pmp.clear_total_volume_dosed` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-clear-total-volume-dosed-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "dose_continuously": {
        "docs": "Use this action in an [automations](https://esphome.io/automations/index.html#automation) to have the peristaltic pump dose continuously at the [Maximum Flow Rate](https://esphome.io/components/ezo_pmp.html#ezo-pmp-max-flow-rate-sensor). The pump will automatically stop after 20 days of running in continuous mode.\n\n*See also: [`ezo_pmp.dose_continuously` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-continuously-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "dose_volume": {
        "docs": "Use this action in an [automations](https://esphome.io/automations/index.html#automation) to have the peristaltic pump dose an specific volume (in milliliters) at the [Maximum Flow Rate](https://esphome.io/components/ezo_pmp.html#ezo-pmp-max-flow-rate-sensor). If the volume is negative the pump will run backwards.\n\n*See also: [`ezo_pmp.dose_volume` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-action)*",
        "schema": {
          "config_vars": {
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "volume": {
              "docs": "**, float, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The volume to dose in milliliters. If negative, pump will run in reverse.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-action)*",
              "key": "Required",
              "templatable": true
            }
          }
        },
        "type": "schema"
      },
      "dose_volume_over_time": {
        "docs": "Use this action in an [automations](https://esphome.io/automations/index.html#automation) to have the peristaltic pump dose an specific `volume` (in milliliters) over the provided `duration` (in minutes). At the end of the time period the pump will have dosed the specified `volume`. If the volume is negative the pump will run backwards.\n\n*See also: [`ezo_pmp.dose_volume_over_time` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-over-time-action)*",
        "schema": {
          "config_vars": {
            "duration": {
              "docs": "**, int, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The time (in minutes) the pump will take to dose the volume requested.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-over-time-action)*",
              "key": "Required",
              "templatable": true,
              "type": "integer"
            },
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-over-time-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "volume": {
              "docs": "**, float, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The volume to dose in milliliters. If negative, pump will run in reverse.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-volume-over-time-action)*",
              "key": "Required",
              "templatable": true
            }
          }
        },
        "type": "schema"
      },
      "dose_with_constant_flow_rate": {
        "docs": "Use this action in an [automations](https://esphome.io/automations/index.html#automation) to have the peristaltic pump dose an specific `volume` (in milliliters) every minute for the provided `duration` (in minutes). At the end of the time period the pump will have dosed the specified `volume` times the `duration`. If the volume is negative the pump will run backwards.\n\n*See also: [`ezo_pmp.dose_with_constant_flow_rate` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-with-constant-flow-rate-action)*",
        "schema": {
          "config_vars": {
            "duration": {
              "docs": "**, int, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The time (in minutes) the pump will dose the volume requested every minute.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-with-constant-flow-rate-action)*",
              "key": "Required",
              "templatable": true,
              "type": "integer"
            },
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-with-constant-flow-rate-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "volume_per_minute": {
              "docs": "**, float, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The volume to dose in milliliters every minute. If negative, pump will run in reverse.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-dose-with-constant-flow-rate-action)*",
              "key": "Required",
              "templatable": true
            }
          }
        },
        "type": "schema"
      },
      "find": {
        "docs": "Use this action to make the LED on the Pump control board to blink for a minute. The pump will not respond to any other action while the LED is blinking.\n\n*See also: [`ezo_pmp.find` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-find-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "pause_dosing": {
        "docs": "Use this action to pause a Dosing command that was previously issued. To determine if the dosing is paused or not, you can use the [Is Paused](https://esphome.io/components/ezo_pmp.html#ezo-pmp-is-paused-binary-sensor) sensor. If the pump is currently paused, issuing this action again will unpause it.\n\n*See also: [`ezo_pmp.pause_dosing` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-pause-dosing-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "set_calibration_volume": {
        "docs": "Use this action to calibrate the peristaltic pump. The EZO-PMP needs two forms of calibration: absolute volume and volume over time. You can check the calibration status by using the [Calibration Status](https://esphome.io/components/ezo_pmp.html#ezo-pmp-calibration-status-text-sensor) sensor. For the procedure on calibrating the pump check the datasheet.\n\n*See also: [`ezo_pmp.set_calibration_volume` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-set-calibration-volume-action)*",
        "schema": {
          "config_vars": {
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-set-calibration-volume-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "volume": {
              "docs": "**, float, [templatable](https://esphome.io/automations/templates.html#config-templatable)**: The volume measured as part of the calibration process.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-set-calibration-volume-action)*",
              "key": "Required",
              "templatable": true
            }
          }
        },
        "type": "schema"
      },
      "stop_dosing": {
        "docs": "Use this action to stop the current Dosing command.\n\n*See also: [`ezo_pmp.stop_dosing` Action](https://esphome.io/components/ezo_pmp.html#ezo-pmp-stop-dosing-action)*",
        "schema": {
          "extends": [
            "ezo_pmp.EZO_PMP_NO_ARGS_ACTION_SCHEMA"
          ]
        },
        "type": "schema"
      }
    },
    "schemas": {
      "CONFIG_SCHEMA": {
        "is_list": true,
        "schema": {
          "config_vars": {
            "address": {
              "data_type": "hex_uint8_t",
              "default": "103",
              "docs": "**, int**: Specify the I\u00b2C address of the sensor. Defaults to 103.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#atlas-scientific-peristaltic-pump)*",
              "key": "Optional"
            },
            "i2c_id": {
              "key": "GeneratedID",
              "type": "use_id",
              "use_id_type": "i2c::I2CBus"
            },
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: Specify the ID of the pump so that you can control it.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#atlas-scientific-peristaltic-pump)*",
              "id_type": {
                "class": "ezo_pmp::EzoPMP",
                "parents": [
                  "Component",
                  "PollingComponent",
                  "i2c::I2CDevice"
                ]
              },
              "key": "GeneratedID"
            },
            "update_interval": {
              "default": "60s",
              "docs": "**, [Time](https://esphome.io/guides/configuration-types.html#config-time)**: The interval to check the sensor. Defaults to `60s`.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#atlas-scientific-peristaltic-pump)*",
              "key": "Optional"
            }
          },
          "extends": [
            "core.COMPONENT_SCHEMA"
          ]
        },
        "type": "schema"
      },
      "EZO_PMP_NO_ARGS_ACTION_SCHEMA": {
        "maybe": "id",
        "schema": {
          "config_vars": {
            "id": {
              "docs": "**, [ID](https://esphome.io/guides/configuration-types.html#config-id)**: The ID of the pump.\n\n*See also: [Atlas Scientific Peristaltic Pump](https://esphome.io/components/ezo_pmp.html#ezo-pmp-find-action)*",
              "key": "Required",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            }
          }
        },
        "type": "schema"
      }
    }
  },
  "ezo_pmp.binary_sensor": {
    "schemas": {
      "CONFIG_SCHEMA": {
        "schema": {
          "config_vars": {
            "id": {
              "key": "GeneratedID",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "is_paused": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": ""
                  }
                },
                "extends": [
                  "binary_sensor.BINARY_SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "pump_state": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "device_class": {
                    "default": "running"
                  },
                  "entity_category": {
                    "default": ""
                  }
                },
                "extends": [
                  "binary_sensor.BINARY_SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            }
          }
        },
        "type": "schema"
      }
    }
  },
  "ezo_pmp.sensor": {
    "schemas": {
      "CONFIG_SCHEMA": {
        "schema": {
          "config_vars": {
            "absolute_total_volume_dosed": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": "diagnostic"
                  },
                  "state_class": {
                    "default": "measurement"
                  },
                  "unit_of_measurement": {
                    "default": "ml"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "current_volume_dosed": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": ""
                  },
                  "state_class": {
                    "default": "measurement"
                  },
                  "unit_of_measurement": {
                    "default": "ml"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "id": {
              "key": "GeneratedID",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            },
            "last_volume_requested": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": ""
                  },
                  "state_class": {
                    "default": "measurement"
                  },
                  "unit_of_measurement": {
                    "default": "ml"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "max_flow_rate": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": "diagnostic"
                  },
                  "state_class": {
                    "default": ""
                  },
                  "unit_of_measurement": {
                    "default": "ml/min"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "pump_voltage": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": "voltage"
                  },
                  "entity_category": {
                    "default": "diagnostic"
                  },
                  "state_class": {
                    "default": "measurement"
                  },
                  "unit_of_measurement": {
                    "default": "V"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "total_volume_dosed": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "accuracy_decimals": {
                    "default": "2"
                  },
                  "device_class": {
                    "default": ""
                  },
                  "entity_category": {
                    "default": "diagnostic"
                  },
                  "state_class": {
                    "default": "measurement"
                  },
                  "unit_of_measurement": {
                    "default": "ml"
                  }
                },
                "extends": [
                  "sensor.SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            }
          }
        },
        "type": "schema"
      }
    }
  },
  "ezo_pmp.text_sensor": {
    "schemas": {
      "CONFIG_SCHEMA": {
        "schema": {
          "config_vars": {
            "calibration_status": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "entity_category": {
                    "default": "diagnostic"
                  }
                },
                "extends": [
                  "text_sensor.TEXT_SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "dosing_mode": {
              "key": "Optional",
              "schema": {
                "config_vars": {
                  "entity_category": {
                    "default": ""
                  }
                },
                "extends": [
                  "text_sensor.TEXT_SENSOR_SCHEMA"
                ]
              },
              "type": "schema"
            },
            "id": {
              "key": "GeneratedID",
              "type": "use_id",
              "use_id_type": "ezo_pmp::EzoPMP"
            }
          }
        },
        "type": "schema"
      }
    }
  }
}